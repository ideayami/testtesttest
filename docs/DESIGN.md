# ゲームデザインドキュメント

## 概要

東方Project風の縦スクロール弾幕シューティングゲーム。
プレイヤーは複雑な弾幕を避けながら敵を倒し、ボスを撃破してステージをクリアする。

## ゲームコンセプト

### コアループ
1. 敵の弾幕を避ける
2. 敵を攻撃して倒す
3. アイテムを回収してパワーアップ
4. ボスを倒してステージクリア

### 特徴
- **複雑な弾幕**: 様々なパターンの美しい弾幕
- **スペルカードシステム**: ボス戦での特殊な攻撃パターン
- **グレイズシステム**: 弾をかすめてボーナス獲得
- **パワーアップ**: アイテム収集でショットが強化

## ゲームシステム

### プレイヤー

#### 基本操作
- **移動**: 矢印キー（8方向）
- **ショット**: Z（連射可能）
- **ボム**: X（画面内の弾を全て消去）
- **低速移動**: Shift（精密な移動、ヒットボックス表示）
- **ポーズ**: ESC

#### ステータス
- **ライフ**: 3（初期値）- 0になるとゲームオーバー
- **ボム**: 3（初期値）- 緊急回避用
- **パワー**: 0-100 - ショットの威力と弾数が増加
- **スコア**: 敵撃破、アイテム取得で増加

#### ヒットボックス
- 通常時: 見えない小さな円形（半径2px）
- 低速移動時: 赤い点で表示

### 敵システム

#### 敵タイプ
1. **雑魚敵（Basic）**
   - HP: 10
   - スコア: 100
   - 単純な移動と弾幕

2. **中ボス（Elite）**
   - HP: 50
   - スコア: 500
   - 複雑な弾幕パターン
   - HPバー表示

3. **ボス（Boss）**
   - HP: 3000+
   - スコア: 10000
   - スペルカード使用
   - 複数フェーズ

#### 移動パターン
- **Straight**: 直進
- **Wave**: 波状移動
- **Circle**: 円運動
- **Zigzag**: ジグザグ移動

#### 弾幕パターン
- **Aimed**: プレイヤー狙い
- **Spread**: 扇状
- **Circle**: 円形全方位
- **Custom**: スペルカード専用

### アイテムシステム

#### アイテム種類
1. **パワーアイテム（緑）**
   - パワー+1
   - スコア+100

2. **ポイントアイテム（黄）**
   - スコア+500

3. **ライフアイテム（赤）**
   - ライフ+1（最大8）
   - レア

4. **ボムアイテム（青）**
   - ボム+1（最大8）
   - レア

#### アイテム挙動
- 画面上部で発生
- ゆっくり下に落ちる
- プレイヤーの近くで自動吸引（範囲60px）

### スコアシステム

#### 得点源
- 雑魚敵撃破: 100点
- 中ボス撃破: 500点
- ボス撃破: 10000点
- スペルカード取得: 5000-15000点
- グレイズ: 10点/回
- アイテム取得: 100-500点

#### グレイズ
- 敵弾との距離20px以内で発動
- 1弾につき1回のみカウント
- スコアとリスク・リワードのバランス

### ボムシステム

#### 効果
- 画面内の敵弾を全て消去
- 短時間無敵
- 敵にダメージ（実装予定）

#### 使用タイミング
- 被弾回避の最終手段
- スペルカード中の緊急回避

## ステージ構成

### Stage 1: 霧の湖
- **テーマ**: 氷と霧
- **難易度**: 易しい
- **ボス**: チルノ（氷精）
- **スペルカード**:
  1. 氷符「アイシクルフォール」
  2. 凍符「パーフェクトフリーズ」

### Stage 2: 紅魔館への道
- **テーマ**: 中国風
- **難易度**: 普通
- **ボス**: 紅美鈴（門番）
- **スペルカード**:
  1. 華符「彩光蓮華掌」
  2. 気符「猛虎餓龍」

### Stage 3: 紅魔館図書館
- **テーマ**: 魔法と五行
- **難易度**: やや難
- **ボス**: パチュリー（魔法使い）
- **スペルカード**:
  1. 火水木金土符「賢者の石」
  2. 日符「ロイヤルフレア」

## 難易度設定

### Easy
- 弾速: 0.8倍
- 敵HP: 0.7倍
- プレイヤー攻撃力: 1.3倍

### Normal
- バランス基準

### Hard
- 弾速: 1.2倍
- 敵HP: 1.5倍
- プレイヤー攻撃力: 0.8倍

### Lunatic
- 弾速: 1.5倍
- 敵HP: 2.0倍
- プレイヤー攻撃力: 0.6倍
- 弾幕密度増加

## UI/UX

### ゲーム画面レイアウト
```
+------------------------------------------+
|  ゲームエリア (384x448)  |  UI (256px)  |
|                           |              |
|   [プレイフィールド]      |  スコア      |
|                           |  ライフ      |
|                           |  ボム        |
|                           |  パワー      |
|                           |  グレイズ    |
|                           |  FPS         |
+------------------------------------------+
```

### カラースキーム
- プレイヤー: 青 (#4a90e2)
- プレイヤー弾: シアン (#00ffff)
- 敵: 赤系
- 敵弾: 赤〜オレンジ (#ff6b6b)
- ボス弾: 濃い赤 (#ff0000)
- UI: 白・青基調

## バランス調整

### 難易度曲線
- Stage 1: チュートリアル的な難易度
- Stage 2: 基本パターンの習熟
- Stage 3: 応用と複雑な弾幕

### パワーレベル
- Lv0 (0-24): 基本ショット
- Lv1 (25-49): サイド弾追加
- Lv2 (50-74): ワイド弾追加
- Lv3 (75-99): 後方弾追加
- Lv4 (100): 最大火力

## 今後の拡張予定

### Phase 2
- [ ] スペルカードシステムの完全実装
- [ ] ボスAI強化
- [ ] リプレイシステム
- [ ] ハイスコアランキング

### Phase 3
- [ ] Stage 4-6追加
- [ ] プレイヤーキャラクター選択
- [ ] エンディング
- [ ] 実績システム

### Phase 4
- [ ] サウンド・BGM実装
- [ ] ビジュアルエフェクト強化
- [ ] プラクティスモード
- [ ] ストーリーモード
